<html>
<head>
  <style>
  #blocklyDiv {
    height: 800px;
    width: 500px;
    float:left;
  }
  #controlDiv {
    width:auto;
    height:200px;
    overflow:hidden;
    padding: 0;
    margin: 0;
  }
  #gameDiv {
    width:auto;
    max-width: 600px;
    height:450px;
    overflow:hidden;
  }
  #controlDivLeft, #controlDivRight {
    float: left;
    width:50%;
    height:100%;
  }
  </style>
</head>
<body>
<div id="blocklyDiv"><iframe id="blocklyFrame" src="./blockly/index.html#sim" height="100%" width="100%" frameBorder="0" scrolling="no"></iframe></div>
<div id="controlDiv">
  <div id="controlDivLeft"><iframe id="controlFrame" src="./bot-ctrl.html#sim" height="100%" width="100%" frameBorder="0" scrolling="no"></iframe></div>
  <div id="controlDivRight"><iframe id="timerFrame" src="./timer.html" height="100%" width="100%" frameBorder="0" scrolling="no"></iframe></div>
</div>
<div id="gameDiv"><iframe id="gameFrame" src="./bot-game.html" height="100%" width="100%" frameBorder="0" scrolling="no"></iframe></div>
<script>

var blocklyFrame = document.getElementById("blocklyFrame").contentWindow;
var gameFrame = document.getElementById("gameFrame").contentWindow;
var controlFrame = document.getElementById("controlFrame").contentWindow;
var domain = "*";

function messageListener(event) {
  if(event.data.distance) {
    blocklyFrame.postMessage(event.data, domain);
    controlFrame.postMessage(event.data, domain);
  }
  if(event.data.action)
    gameFrame.postMessage(event.data, domain);
}

addEventListener('message', messageListener);
</script>
<body>
